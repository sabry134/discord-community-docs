# Webhook Usage Guide

The Webhook feature allows you to integrate notifications with external systems or services by sending HTTP POST requests to a specified URL. This guide provides instructions on setting up and using webhooks for notifications.

## Example Webhook API

Below is an example Node.js Express server that implements a simple webhook endpoint:

```javascript
const express = require('express');
const bodyParser = require('body-parser');
const cors = require('cors');

const app = express();
const port = 8082;

app.use(bodyParser.json());
app.use(cors())

let latestMessage = null;

app.post('/webhook', (req, res) => {
    const { content } = req.body;
  
    if (!content) {
      return res.status(400).json({ error: 'Content is mandatory' });
    }
  
    latestMessage = {
      content: content,
    };
  
    res.status(200).json(latestMessage);
});

app.get('/webhook', (req, res) => {
    if (!latestMessage) {
      return res.status(200).json({});
    }
  
    res.status(200).json({ content: latestMessage.content });
});

app.listen(port, () => {
    console.log(`Server is running on http://localhost:${port}`);
});
```

### Code Explanation

The server listens on port 8082 for incoming requests.
It defines two routes:
- **POST /webhook**: Accepts POST requests with a JSON body containing a `content` field. It stores the latest message and responds with a JSON containing the stored content.
- **GET /webhook**: Returns the latest stored message, if any.
Middleware is used to parse JSON bodies and enable CORS (Cross-Origin Resource Sharing) for the server.

### Using Webhooks

To use webhooks for notifications:

1. **Set Up Your Webhook Endpoint**: Implement a server or endpoint that can receive HTTP POST requests. Ensure it can handle and process JSON payloads.

2. **Save Your Webhook URL**: On the Webhook page of our platform, enter the URL of your webhook endpoint. This is where notifications will be sent.

3. **Test Your Webhook**: Use the provided text field to test your webhook URL. Enter a sample payload and click the "Test Webhook" button. You will receive feedback indicating if the request was successfully sent or not.

4. **Configure Notifications**: Specify the events or triggers for which you want to receive notifications via webhook. These may include project updates, alerts, or other relevant events.

### Troubleshooting

If you encounter issues with your webhook:

- **Check Endpoint URL**: Ensure that the URL entered for your webhook endpoint is correct and accessible.
- **Verify Payload Format**: Double-check that the payload format expected by your endpoint matches the format sent by our platform. In the example code provided, the expected field is `content`.
- **Inspect Response**: Examine the response received from your webhook endpoint to identify any errors or issues reported by the server.
- **Review Error Logs**: Check the logs or error messages generated by your webhook endpoint server to diagnose any issues on the server side.

By following this guide, you can effectively set up and use webhooks for receiving notifications from our platform or any other system that supports webhook integrations.
